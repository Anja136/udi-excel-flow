import React from 'react';
import { UdiRegion } from '@/types/udiRegion';

interface WorldMapSvgProps {
  regions: UdiRegion[];
  onRegionClick: (region: UdiRegion) => void;
}

const WorldMapSvg = ({ regions, onRegionClick }: WorldMapSvgProps) => {
  return (
    <svg
      viewBox="0 0 1200 600"
      className="w-full h-full"
      style={{ background: '#0b1628' }}
    >
      {/* Base world map with detailed continent outlines - simplified for readability */}
      <g className="world-base">
        <path
          d="M61.3,210.5 l-5.4,4.6 l-6.5-5.4 l-9.8,1.9 l-9.8,14.4 l-9.3-2.2 l-6,5.9 l1.7,13.8 l-8.6,15.7 l-11.4,4.8 l-8.2,13.3 l5.2,17.3 l13.7,4.8 l0.4,5.4 l3.1,8 l7.5,8.8 l11.4,6.1 l9.2-1.3 l9.7,9.3 l13.3,3.3 l16.3-5.3 l7.5-4.3 l17.1-1.5 l8.3,0.7 l5.4,6.7 l-3.9,8.5 l3.5,8.2 l10.1,0.4 l21.9-4.3 l12.2-5.3 l0.9-14.3 l7.3-15.2 l-5.3-8.4 l-0.7-11.4 l-1.9-4.4 l-7.6-4.2 l-4.8-10.2 l-12.1-7.2 l-12.1-4.3 l-12.2-0.9 l-0.7-7.8 l-2.2-7.2 l-12.1,-1.8l-8.1-1.4 l-11.4,5.6 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M215.3,138.5 l-9.3,-3.5 l-12.9,2.9 l-2.9,4.3 l2.9,14.6 l-5,4.3 l4.3,13.7 l-9.3,20.5 l8.1,14.6 l10.5,14.2 l13.1,23.3 l6.1,14.8 l14.9,14.8 l14.8,8.7 l23.5,14.9 l11.7,10.6 l12.9,8.7 l7.5,0.6 l14.9-5.6 l9.3-0.7 l4.3,3.1 l3.1,9.3 l8.1,9.3 l10.5-2.5 l7.5-8.7 l2.5-15.5 l-3.7-15.5 l-9.3,-4.4 l2.5-14.9 l-2.5-28.6 l6.8-17.9 l-8.1-8.7 l-11.1-8.7 l-4.9-13 l-14.3-17.3 l-14.3-10.5 l-11.2-2.5 l-3.7,7.5 l-11.1,3.1 l-14.2-6.2 l-14.3-9.3 l-13-1.9 l-14.9,2.5 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M335,265 l2.5,13.9 l16.8,20.3 l13,11.9 l-1.3,12.9 l-15.5,0 l-13-5.9 l-3.5,4.9 l3.5,22.8 l10.6,4.1 l4.9,25.8 l4.1,24.9 l13,16.9 l-2.5,9.9 l-11.7,14.8 l-7.6,15.8 l2.5,8.9 l-7.6,8.9 l-9.2,10.9 l-18.3,-5.9 l-14.9,7.9 l-20.6,-6.9 l-14,-15.9 l-9.2,-3 l-3.5,-7.9 l-12.4,-3 l-21.4,-17.8 l-20.3,-11.9 l-5.9,-11.8 l-0.8,-10.9 l4.9,-9.9 l-8.1,-7.9 l9.8,-33.4 l-7.6,-22.9 l3.5,-11.9 l14.9,-1 l15.2,-7.9 l7.6,5 l13,-3 l13,4 l17.9,11.9 l13,1 l12.5,-10 l5.4,-12.9 l16.3,-21.8z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M404.3,40.4 l-7.6,15.9 l8.7,22.5 l-6.5,18.1 l-17.5,10.9 l-25.2,-1.3 l-25.7,4.3 l-8.7,15.6 l-21.4,26.6 l5.3,11.6 l-1.1,17.8 l-14.2,-9.6 l-14.2,-16.6 l-24.1,-0.3 l-16.9,5.9 l-20.3,21.5 l-13.8,5.6 l-10.7,-3.7 l-3.1,-28.5 l7.6,-14.6 l-0.5,-21.8 l-7.6,-24.1 l7.6,-8.1 l8.7,-20.3 l-8.7,-21.8 l7.6,-28.5 l17.5,-8.1 l29.3,14.6 l16.4,-6.8 l13.1,21.8 l20.3,4.1 l17.5,-6.5 l32.8,19.4 l18.1,-1 l22.9,12.3 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M771.6,69.2 l-2.9,19.3 l8.7,14.6 l19.9,4.3 l22.5,-4.3 l16.9,13.6 l20.4,11.9 l22,1.2 l8.1,10.7 l18.1,5.8 l13,4.4 l-3.7,12 l-15.6,5.3 l-10.5,16.7 l-16.8,5.3 l-18.8,19.3 l-8.7,24.5 l-16.2,5.6 l-8.1,12.6 l-16.3,0.5 l-13.6,6.7 l-11.8,-13.5 l-23.8,-6.7 l-5.6,-9.8 l-5.4,-29.8 l-12.4,-4.9 l-28.2,-27.2 l-17.5,-6.2 l-9.3,-16.3 l5.7,-11.7 l0.6,-13.3 l-8.7,-13.5 l9.9,-18.7 l-5.6,-18.7 l9.9,-19.8 l22.6,1.2 l20.6,7 l18.8,12.1 l9.2,21.9 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M651.2,125.4 l-1.9,19.7 l4.9,23.9 l-7.8,15.8 l10.7,14.7 l10.7,21.7 l19.6,19.7 l22.5,4.9 l7.8,-6.8 l14.6,10.8 l14.6,-8.8 l-5.9,-19.7 l-13.7,-11.7 l-8.8,-14.7 l-14.6,-12.8 l1,-24.8 l-10.7,-16.7 l-17.5,-1 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M655.3,247.2 l-21.8,17.8 l-11.7,24.7 l4.9,22.8 l13.3,2.9 l13.4,-7.6 l23.5,-1 l7.6,-13.4 l16.5,-1.9 l4.9,-22.8 l-5.8,-13.3 l-24.1,-19.1 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M577.2,132.4 l-9.8,4.8 l-18.8,-6.7 l-13.7,-10.6 l-21.4,1 l-10.9,8.7 l-16.9,1.9 l-10.7,-6.7 l-11.8,6.7 l1,23.1 l9.8,18.4 l15.9,9.6 l19.8,1.9 l15.9,12.5 l11.7,-9.6 l22.5,2.9 l8.6,-16.4 l-11.7,-14.4 l5.8,-20.2 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M545.9,185.9 l-15.6,8.7 l-10.9,13.9 l2.9,22.6 l-5.7,20.9 l8.7,9.8 l-5.8,18.5 l8.7,23.3 l19.5,9.7 l17.8,-4.9 l9.7,-19.4 l19.4,-5.8 l1.9,-10.9 l-4.9,-24.5 l-16.5,-17.5 l2.9,-17.5 l-14.6,-24.3 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M495.3,289.8 l-15.8,16.9 l-1.9,12.9 l25.5,27.1 l16.5,-3.2 l13.6,-17.8 l-2.9,-22.9 l-16.5,-9.7 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M547.8,347.5 l-2.9,27.9 l11.6,22.1 l21.4,5.3 l7.6,-13.5 l-8.5,-33.2 l-10.7,-12.5 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M460.5,219.3 l-16.4,11.6 l-1.9,14.9 l-14.6,9.7 l-12.6,29 l3.9,20.2 l12.6,4.9 l9.7,-13.6 l18.4,-5.8 l14.6,-26 l-7.8,-17.8 l1.7,-13.5 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M405.8,347.5 l16.5,3.9 l9.7,-7.7 l-0.9,-16.9 l-17.5,-6.7 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M424.3,355.3 l-1.9,20.7 l7.8,14.5 l25.4,3.9 l18.5,-20.7 l-8.7,-14.5 l-27.8,-10.6 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M436.9,401.1 l-1.9,14.9 l10.6,13.9 l30.2,8.7 l3.9,-12.5 l-9.7,-15.9 l-22.4,-1.9 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M477,440.4 l-11.6,15.8 l-1.9,11.6 l20.3,6.7 l21.4,-18.2 l-1.9,-14.8 l-14.6,-4.9 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M513.9,459.7 l2.5,17.7 l27.8,11.5 l14.9,-7.7 l-6.3,-14.4 l-18.8,-14.4 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M464.7,481 l-19.5,8.4 l-7.3,14.8 l6.4,14.8 l19.5,3.8 l14.9,-11.3 l-1.8,-15.9 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M507.6,502.9 l-9.5,14.9 l-0.3,21.3 l14.3,10.6 l15.9,-14.3 l8.9,-1.8 l3.5,-18.9 l-13.7,-8.9 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M538.9,511.8 l8.3,17.8 l18.9,8.3 l13.7,-13.7 l-4.7,-15.9 l-19.5,-7.6 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M584.6,508.2 l14.9,15.9 l13.7,-7.7 l7.7,-20.7 l-13.7,-17.7 l-15.9,7.7 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M621.2,485.8 l18.9,11.3 l13.7,-3.5 l-0.6,-20.7 l-15.9,-11.9 l-14.9,4.8 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M672.1,469.3 l10.1,11.9 l20.7,-4.7 l4.1,-14.9 l-18.9,-8.3 l-14.9,4.7 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M709.3,458 l-0.6,16.5 l20.7,7.7 l14.3,-7.7 l-3.6,-13.1 l-13.7,-8.3 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M898.3,151 l10.1,18.9 l11.3,10.1 l13.7,3.5 l8.9,-8.3 l-6.5,-13.1 l-10.7,-15.4 l-14.9,-3.5 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M939.9,185.8 l2.4,14.8 l13.7,5.3 l12.5,-7.1 l-5.9,-14.8 l-18.9,-2.3 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M1082.9,469.3 l16.6,9.5 l19.5,-4.8 l4.1,-14.9 l-14.9,-13.1 l-25.3,4.8 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M1097.2,493.5 l5.9,13.7 l10.7,7.7 l14.9,-2.9 l15.9,-14.9 l0.6,-12.5 l-14.3,-8.9 l-21.9,1.8 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
        <path
          d="M1014.7,461 l-7.7,16.6 l5.9,9.5 l23.1,3.6 l12.5,-8.9 l-1.8,-13.7 l-15.4,-8.3 z"
          fill="#3f4d5e" stroke="#1d2939" strokeWidth="1"
        />
      </g>

      {/* Highlighted regions */}
      {regions.map((region) => {
        // Get regional path data
        const getRegionPath = (id: string) => {
          switch (id) {
            case 'us':
              return "M215.3,138.5 l-9.3,-3.5 l-12.9,2.9 l-2.9,4.3 l2.9,14.6 l-5,4.3 l4.3,13.7 l-9.3,20.5 l8.1,14.6 l10.5,14.2 l13.1,23.3 l6.1,14.8 l14.9,14.8 l14.8,8.7 l23.5,14.9 l11.7,10.6 l12.9,8.7 l7.5,0.6 l14.9-5.6 l9.3-0.7 l4.3,3.1 l3.1,9.3 l8.1,9.3 l10.5-2.5 l7.5-8.7 l2.5-15.5 l-3.7-15.5 l-9.3,-4.4 l2.5-14.9 l-2.5-28.6 l6.8-17.9 l-8.1-8.7 l-11.1-8.7 l-4.9-13 l-14.3-17.3 l-14.3-10.5 l-11.2-2.5 l-3.7,7.5 l-11.1,3.1 l-14.2-6.2 l-14.3-9.3 l-13-1.9 l-14.9,2.5 z";
            case 'eu':
              return "M577.2,132.4 l-9.8,4.8 l-18.8,-6.7 l-13.7,-10.6 l-21.4,1 l-10.9,8.7 l-16.9,1.9 l-10.7,-6.7 l-11.8,6.7 l1,23.1 l9.8,18.4 l15.9,9.6 l19.8,1.9 l15.9,12.5 l11.7,-9.6 l22.5,2.9 l8.6,-16.4 l-11.7,-14.4 l5.8,-20.2 z M545.9,185.9 l-15.6,8.7 l-10.9,13.9 l2.9,22.6 l-5.7,20.9 l8.7,9.8 l-5.8,18.5 l8.7,23.3 l19.5,9.7 l17.8,-4.9 l9.7,-19.4 l19.4,-5.8 l1.9,-10.9 l-4.9,-24.5 l-16.5,-17.5 l2.9,-17.5 l-14.6,-24.3 z";
            case 'cn':
              return "M771.6,69.2 l-2.9,19.3 l8.7,14.6 l19.9,4.3 l22.5,-4.3 l16.9,13.6 l20.4,11.9 l22,1.2 l8.1,10.7 l18.1,5.8 l13,4.4 l-3.7,12 l-15.6,5.3 l-10.5,16.7 l-16.8,5.3 l-18.8,19.3 l-8.7,24.5 l-16.2,5.6 l-8.1,12.6 l-16.3,0.5 l-13.6,6.7 l-11.8,-13.5 l-23.8,-6.7 l-5.6,-9.8 l-5.4,-29.8 l-12.4,-4.9 l-28.2,-27.2 l-17.5,-6.2 l-9.3,-16.3 l5.7,-11.7 l0.6,-13.3 l-8.7,-13.5 l9.9,-18.7 l-5.6,-18.7 l9.9,-19.8 l22.6,1.2 l20.6,7 l18.8,12.1 l9.2,21.9 z";
            case 'kr':
              return "M898.3,151 l10.1,18.9 l11.3,10.1 l13.7,3.5 l8.9,-8.3 l-6.5,-13.1 l-10.7,-15.4 l-14.9,-3.5 z";
            case 'tw':
              return "M939.9,185.8 l2.4,14.8 l13.7,5.3 l12.5,-7.1 l-5.9,-14.8 l-18.9,-2.3 z";
            case 'sa':
              return "M621.2,485.8 l18.9,11.3 l13.7,-3.5 l-0.6,-20.7 l-15.9,-11.9 l-14.9,4.8 z M672.1,469.3 l10.1,11.9 l20.7,-4.7 l4.1,-14.9 l-18.9,-8.3 l-14.9,4.7 z";
            case 'au':
              return "M1082.9,469.3 l16.6,9.5 l19.5,-4.8 l4.1,-14.9 l-14.9,-13.1 l-25.3,4.8 z M1097.2,493.5 l5.9,13.7 l10.7,7.7 l14.9,-2.9 l15.9,-14.9 l0.6,-12.5 l-14.3,-8.9 l-21.9,1.8 z";
            default:
              return "";
          }
        };

        const path = getRegionPath(region.id);
        if (!path) return null;

        return (
          <g key={region.id} onClick={() => onRegionClick(region)} style={{ cursor: 'pointer' }}>
            {/* Country shape */}
            <path
              d={path}
              fill={region.status === 'IN_PROCESS' ? '#b8b8b8' : '#63e0c7'}
              stroke="#fff"
              strokeWidth="1"
            />
            
            {/* Flag circle marker */}
            {region.flagCode && (
              <g>
                <circle 
                  cx={region.coordinates[0]} 
                  cy={region.coordinates[1]} 
                  r="22" 
                  fill="#fff" 
                  stroke="#fff" 
                  strokeWidth="1"
                />
                
                <foreignObject 
                  x={region.coordinates[0] - 20} 
                  y={region.coordinates[1] - 20} 
                  width="40" 
                  height="40"
                >
                  <div
                    className="flex items-center justify-center w-full h-full overflow-hidden rounded-full"
                  >
                    <span className={`fi fi-${region.flagCode.toLowerCase()} text-4xl`}></span>
                  </div>
                </foreignObject>
              </g>
            )}
          </g>
        );
      })}
    </svg>
  );
};

export default WorldMapSvg;
